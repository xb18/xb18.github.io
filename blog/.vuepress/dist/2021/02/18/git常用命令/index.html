<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>git常用命令 | xb18’ blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <script>
  var _hmt = _hmt || []; 
  (function() { 
    var hm = document.createElement("script"); 
    hm.src = "https://unpkg.com/github-corners/dist/embed.min.js"; 
    hm.setAttribute('data-href','https://github.com/xb18');
    hm.setAttribute('data-target','_blank');
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s); 
  })(); 
</script>
    <meta name="description" content="img
add
添加到暂存区
> 这是个多功能命令：可以用它开始跟踪新文件，或者把已跟踪的文件放到暂存区，还能用于合并时把有冲突的文件标记为已解决状态等。将这个命令理解为“精确地将内容添加到下一次提交中”而不是“将一个文件添加到项目中”要更加合适。
` sh
git add a.js
`
commit ...">
    
    <link rel="preload" href="/assets/css/0.styles.67f218e7.css" as="style"><link rel="preload" href="/assets/js/app.aaef438c.js" as="script"><link rel="preload" href="/assets/js/6.24a67c04.js" as="script"><link rel="preload" href="/assets/js/3.0e04c589.js" as="script"><link rel="preload" href="/assets/js/9.290173ed.js" as="script"><link rel="prefetch" href="/assets/js/10.9ebd4c68.js"><link rel="prefetch" href="/assets/js/11.f61e508e.js"><link rel="prefetch" href="/assets/js/12.05f48358.js"><link rel="prefetch" href="/assets/js/13.43aee44a.js"><link rel="prefetch" href="/assets/js/14.29f7c03a.js"><link rel="prefetch" href="/assets/js/15.3b1b5513.js"><link rel="prefetch" href="/assets/js/16.828406fe.js"><link rel="prefetch" href="/assets/js/17.9a8ca8d2.js"><link rel="prefetch" href="/assets/js/18.7e5136f5.js"><link rel="prefetch" href="/assets/js/19.14273974.js"><link rel="prefetch" href="/assets/js/20.fe0e92f9.js"><link rel="prefetch" href="/assets/js/21.270253d5.js"><link rel="prefetch" href="/assets/js/4.59a48d96.js"><link rel="prefetch" href="/assets/js/5.8f4ac4d2.js"><link rel="prefetch" href="/assets/js/7.bf03f7f9.js"><link rel="prefetch" href="/assets/js/8.bddb0b0d.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.dacd362e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.67f218e7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/" class="nav-link home-link">xb18’ blog </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">xb18’ blog </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/tag/" class="nav-link">Tags</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        git常用命令
      </h1> <div class="post-meta"><div itemprop="publisher author" itemtype="http://schema.org/Person" itemscope="itemscope" class="post-meta-author"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-navigation"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg> <span itemprop="name">xb18</span> <!----></div> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2021-02-18T00:00:00.000Z">
      Thu Feb 18 2021
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-42ccfcd5><a href="/tag/Git" data-v-42ccfcd5><span data-v-42ccfcd5>Git</span></a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><p><img src="/assets/img/git.90e14b75.jpg" alt="img"></p> <h1 id="add"><a href="#add" class="header-anchor">#</a> add</h1> <h2 id="添加到暂存区"><a href="#添加到暂存区" class="header-anchor">#</a> 添加到暂存区</h2> <blockquote><p>这是个多功能命令：可以用它开始跟踪新文件，或者把已跟踪的文件放到暂存区，还能用于合并时把有冲突的文件标记为已解决状态等。将这个命令理解为“精确地将内容添加到下一次提交中”而不是“将一个文件添加到项目中”要更加合适。</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> <span class="token function">add</span> a.js
</code></pre></div><h1 id="commit"><a href="#commit" class="header-anchor">#</a> commit</h1> <h2 id="提交更新"><a href="#提交更新" class="header-anchor">#</a> 提交更新</h2> <div class="language-sh extra-class"><pre class="language-sh"><code> <span class="token function">git</span> commit -m <span class="token string">&quot;msg&quot;</span>
</code></pre></div><h2 id="跳过add"><a href="#跳过add" class="header-anchor">#</a> 跳过add</h2> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> commit -a -m <span class="token string">'msg'</span>
</code></pre></div><blockquote><p>Git 提供了一个跳过使用暂存区域的方式， 只要在提交的时候，给 <code>git commit</code> 加上 <code>-a</code> 选项，Git 就会自动把所有已经跟踪过的文件暂存起来一并提交，从而跳过 <code>git add</code> 步骤</p></blockquote> <h1 id="branch"><a href="#branch" class="header-anchor">#</a> branch</h1> <h2 id="分支创建"><a href="#分支创建" class="header-anchor">#</a> 分支创建</h2> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">git</span> branch <span class="token builtin class-name">test</span>
<span class="token comment">#创建了test分支</span>
</code></pre></div><h2 id="分支切换"><a href="#分支切换" class="header-anchor">#</a> 分支切换</h2> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> checkout <span class="token builtin class-name">test</span>

<span class="token comment">#这会给你一个用于工作的本地分支，并且起点位于 origin/serverfix</span>
<span class="token function">git</span> checkout -b serverfix origin/serverfix
</code></pre></div><h2 id="创建并切换"><a href="#创建并切换" class="header-anchor">#</a> 创建并切换</h2> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">git</span> checkout -b <span class="token builtin class-name">test</span>
</code></pre></div><h2 id="分支合并"><a href="#分支合并" class="header-anchor">#</a> 分支合并</h2> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">git</span> checkout master
<span class="token function">git</span> merge <span class="token builtin class-name">test</span>
<span class="token comment">#将test分支合并到master分支</span>
</code></pre></div><h2 id="分支删除"><a href="#分支删除" class="header-anchor">#</a> 分支删除</h2> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> branch -d <span class="token operator">&lt;</span>branchname<span class="token operator">&gt;</span> <span class="token comment">#删除本地分支</span>

<span class="token function">git</span> branch -d -r <span class="token operator">&lt;</span>branchname<span class="token operator">&gt;</span> <span class="token comment">#删除远程分支，删除后还需推送到服务器</span>
<span class="token function">git</span> push origin:<span class="token operator">&lt;</span>branchname<span class="token operator">&gt;</span>  <span class="token comment">#删除后推送至服务器</span>
</code></pre></div><h2 id="分支查看"><a href="#分支查看" class="header-anchor">#</a> 分支查看</h2> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> branch <span class="token comment">#查看本地所有分支 </span>

<span class="token function">git</span> branch -r <span class="token comment">#查看远程所有分支</span>

<span class="token function">git</span> branch -a <span class="token comment">#查看本地和远程的所有分支</span>
</code></pre></div><h1 id="fetch"><a href="#fetch" class="header-anchor">#</a> fetch</h1> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> fetch <span class="token operator">&lt;</span>远程主机名<span class="token operator">&gt;</span> <span class="token comment">#这个命令将某个远程主机的更新全部取回本地</span>
<span class="token comment">#git fetch origin</span>
<span class="token function">git</span> fetch <span class="token operator">&lt;</span>远程主机名<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>分支名<span class="token operator">&gt;</span> <span class="token comment">#注意之间有空格</span>
<span class="token comment"># git fetch origin master</span>
</code></pre></div><h1 id="pull"><a href="#pull" class="header-anchor">#</a> pull</h1> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment">#等同于</span>
<span class="token function">git</span> fetch origin master <span class="token comment">#从远程主机的master分支拉取最新内容 </span>
<span class="token function">git</span> merge FETCH_HEAD    <span class="token comment">#将拉取下来的最新内容合并到当前所在的分支中</span>

<span class="token comment">#将远程主机的某个分支的更新取回，并与本地指定的分支合并，完整格式可表示为：</span>
<span class="token function">git</span> pull <span class="token operator">&lt;</span>远程主机名<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>远程分支名<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>本地分支名<span class="token operator">&gt;</span>
<span class="token comment">#如果远程分支是与当前分支合并，则冒号后面的部分可以省略</span>
<span class="token function">git</span> pull origin master
</code></pre></div><h1 id="push"><a href="#push" class="header-anchor">#</a> push</h1> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment">#git push &lt;remote&gt; &lt;branch&gt;</span>
<span class="token function">git</span> push origin serverfix 
<span class="token comment">#推送本地的 serverfix 分支来更新远程仓库上的 serverfix 分支</span>

<span class="token function">git</span> push origin serverfix:serverfix
<span class="token comment">#推送本地的 serverfix 分支，将其作为远程仓库的 serverfix 分支</span>
</code></pre></div><h1 id="remote"><a href="#remote" class="header-anchor">#</a> remote</h1> <h2 id="添加远程仓库"><a href="#添加远程仓库" class="header-anchor">#</a> 添加远程仓库</h2> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> remote
<span class="token comment">#origin</span>
<span class="token function">git</span> remote <span class="token function">add</span> pb https://github.com/paulboone/ticgit
<span class="token function">git</span> remote -v
<span class="token comment">#origin	https://github.com/schacon/ticgit (fetch)</span>
<span class="token comment">#origin	https://github.com/schacon/ticgit (push)</span>
<span class="token comment">#pb	https://github.com/paulboone/ticgit (fetch)</span>
<span class="token comment">#pb	https://github.com/paulboone/ticgit (push)</span>
</code></pre></div><h1 id="status"><a href="#status" class="header-anchor">#</a> status</h1> <h2 id="紧凑输出"><a href="#紧凑输出" class="header-anchor">#</a> 紧凑输出</h2> <blockquote><p><code>git status</code> 命令的输出十分详细，但其用语有些繁琐。 Git 有一个选项可以帮你缩短状态命令的输出，这样可以以简洁的方式查看更改。 如果你使用 <code>git status -s</code> 命令或 <code>git status --short</code> 命令，你将得到一种格式更为紧凑的输出。</p></blockquote> <div class="language-console extra-class"><pre class="language-text"><code>$ git status -s
 M README
MM Rakefile
A  lib/git.rb
M  lib/simplegit.rb
?? LICENSE.txt
</code></pre></div><p>新添加的未跟踪文件前面有 <code>??</code> 标记，新添加到暂存区中的文件前面有 <code>A</code> 标记，修改过的文件前面有 <code>M</code> 标记。 输出中有两栏，左栏指明了暂存区的状态，右栏指明了工作区的状态。例如，上面的状态报告显示： <code>README</code> 文件在工作区已修改但尚未暂存，而 <code>lib/simplegit.rb</code> 文件已修改且已暂存。 <code>Rakefile</code> 文件已修，暂存后又作了修改，因此该文件的修改中既有已暂存的部分，又有未暂存的部分。</p> <h1 id="gitignore"><a href="#gitignore" class="header-anchor">#</a> .gitignore</h1> <h2 id="常用"><a href="#常用" class="header-anchor">#</a> 常用</h2> <div class="language- extra-class"><pre class="language-text"><code>.DS_Store
node_modules
/dist

# local env files
.env.local
.env.*.local

# Log files
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*

# Editor directories and files
.idea
.vscode
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?

</code></pre></div><blockquote><p>GitHub 有一个十分详细的针对数十种项目及语言的 <code>.gitignore</code> 文件列表， 你可以在 https://github.com/github/gitignore 找到它。</p></blockquote> <h2 id="详解"><a href="#详解" class="header-anchor">#</a> 详解</h2> <p>一般我们总会有些文件无需纳入 Git 的管理，也不希望它们总出现在未跟踪文件列表。 通常都是些自动生成的文件，比如日志文件，或者编译过程中创建的临时文件等。 在这种情况下，我们可以创建一个名为 <code>.gitignore</code> 的文件，列出要忽略的文件的模式。 来看一个实际的 <code>.gitignore</code> 例子：</p> <div class="language-console extra-class"><pre class="language-text"><code>$ cat .gitignore
*.[oa]
*~
</code></pre></div><p>第一行告诉 Git 忽略所有以 <code>.o</code> 或 <code>.a</code> 结尾的文件。一般这类对象文件和存档文件都是编译过程中出现的。 第二行告诉 Git 忽略所有名字以波浪符（~）结尾的文件，许多文本编辑软件（比如 Emacs）都用这样的文件名保存副本。 此外，你可能还需要忽略 log，tmp 或者 pid 目录，以及自动生成的文档等等。 要养成一开始就为你的新仓库设置好 .gitignore 文件的习惯，以免将来误提交这类无用的文件。</p> <p>文件 <code>.gitignore</code> 的格式规范如下：</p> <ul><li>所有空行或者以 <code>#</code> 开头的行都会被 Git 忽略。</li> <li>可以使用标准的 glob 模式匹配，它会递归地应用在整个工作区中。</li> <li>匹配模式可以以（<code>/</code>）开头防止递归。</li> <li>匹配模式可以以（<code>/</code>）结尾指定目录。</li> <li>要忽略指定模式以外的文件或目录，可以在模式前加上叹号（<code>!</code>）取反。</li></ul> <p>所谓的 glob 模式是指 shell 所使用的简化了的正则表达式。 星号（<code>*</code>）匹配零个或多个任意字符；<code>[abc]</code> 匹配任何一个列在方括号中的字符 （这个例子要么匹配一个 a，要么匹配一个 b，要么匹配一个 c）； 问号（<code>?</code>）只匹配一个任意字符；如果在方括号中使用短划线分隔两个字符， 表示所有在这两个字符范围内的都可以匹配（比如 <code>[0-9]</code> 表示匹配所有 0 到 9 的数字）。 使用两个星号（<code>**</code>）表示匹配任意中间目录，比如 <code>a/**/z</code> 可以匹配 <code>a/z</code> 、 <code>a/b/z</code> 或 <code>a/b/c/z</code> 等。</p> <p>我们再看一个 <code>.gitignore</code> 文件的例子：</p> <div class="language- extra-class"><pre class="language-text"><code># 忽略所有的 .a 文件
*.a

# 但跟踪所有的 lib.a，即便你在前面忽略了 .a 文件
!lib.a

# 只忽略当前目录下的 TODO 文件，而不忽略 subdir/TODO
/TODO

# 忽略任何目录下名为 build 的文件夹
build/

# 忽略 doc/notes.txt，但不忽略 doc/server/arch.txt
doc/*.txt

# 忽略 doc/ 目录及其所有子目录下的 .pdf 文件
doc/**/*.pdf
</code></pre></div><blockquote><p>git使用文档：https://git-scm.com/book/zh/v2/</p></blockquote></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#添加到暂存区" title="添加到暂存区">添加到暂存区</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#提交更新" title="提交更新">提交更新</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#跳过add" title="跳过add">跳过add</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#分支创建" title="分支创建">分支创建</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#分支切换" title="分支切换">分支切换</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#创建并切换" title="创建并切换">创建并切换</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#分支合并" title="分支合并">分支合并</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#分支删除" title="分支删除">分支删除</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#分支查看" title="分支查看">分支查看</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#添加远程仓库" title="添加远程仓库">添加远程仓库</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#紧凑输出" title="紧凑输出">紧凑输出</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#常用" title="常用">常用</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#详解" title="详解">详解</a></div></div></div></div> <footer class="footer" data-v-3d9deeb8><div class="footer-left-wrap" data-v-3d9deeb8><ul class="contact" data-v-3d9deeb8></ul></div> <div class="footer-right-wrap" data-v-3d9deeb8><ul class="copyright" data-v-3d9deeb8></ul></div></footer></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.aaef438c.js" defer></script><script src="/assets/js/6.24a67c04.js" defer></script><script src="/assets/js/3.0e04c589.js" defer></script><script src="/assets/js/9.290173ed.js" defer></script>
  </body>
</html>
